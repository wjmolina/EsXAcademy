{% extends "base.html" %}

{% block content %}
<section class="section">
    <h1 class="title">
        {{ problem.title }}
        <img style="height: 50px;" src="/static/ranks/{{ problem.difficulty }}.png">
    </h1>
    <div class="has-text-left" style="white-space:pre-line">
        {{ problem.text }}
    </div>
</section>
{% if current_user.is_authenticated %}
{% if current_user in problem.users %}
<div class="column is-4 is-offset-4">
    <div class="field">
        <div class="control">
            <input disabled class="input" value="{{ problem.answer }}">
        </div>
    </div>
</div>
{% endif %}
{% if current_user not in problem.users %}
<div class="column is-4 is-offset-4">
    <form method="POST" action="/problem/{{ problem.id }}">
        <div class="field">
            <div class="control">
                <input class="input" type="text" name="answer" placeholder="Answer">
            </div>
        </div>
        <button class="button is-block is-primary is-fullwidth">Submit</button>
    </form>
</div>
{% endif %}
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<div class="notification {{ messages[0][0] }}">{{ messages[0][1] }}</div>
{% endif %}
{% endwith %}
{% endif %}
{% endblock %}